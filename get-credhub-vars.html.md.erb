---
title: Fetching variable names and values with CredHub for your services
owner: CredHub
---

## <a id="overview"></a> CredHub Process overview

CredHub has two API endpoints to identify and re-use variables. Operators who want to see all the credentials associated with their product, or support engineers who want to troubleshoot problems specific to one virtual machine (VM), can use these APIs for those purposes.

The API endpoints perform these functions:

* Identifying and printing the name of a variable
* Using the name of the variable to identify and print the value of the variable

### <a id="use-api-endpoints"></a> Using the API endpoints

Use these endpoints to view variables for any product in Ops Manager, except the BOSH Director. These endpoints are read-only. You cannot use them to add, remove, or rotate variables.

## <a id="fetch-variables"></a> Fetching variables

This endpoint returns the list of variables associated with a product that are stored in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->. Not all variables are stored in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->. If you call a variable that is not stored in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->, the call returns an empty value.

<pre class="terminal">
$ curl "http<span>s</span>://OPS-MAN-FQDN/api<!--฿ |API| is preferred. ฿-->/v0/deployed/products/product-guid<!--฿ |GUID| is preferred. ฿-->/variables" \
    -X GET \
    -H "Authorization: Bearer EXAMPLE_UAA_ACCESS_TOKEN"
</pre>

### <a id="example-response"></a> Example response

<pre class="terminal">
HTTP/1.1 200 OK

{
  "variables": ["FIRST-EXAMPLE-VARIABLE", "SECOND-EXAMPLE-VARIABLE", "THIRD-EXAMPLE-VARIABLE"]
}
</pre>

### <a id="query-params"></a> Query parameters

<table class="nice">
  <th>Parameter</th>
  <th>Description</th>
  <tr>
    <td>product_guid</td>
    <td>The unique product identifier, formatted as a text string</td>
  </tr>
</table>

This endpoint returns a variable's name. Use the name in the next endpoint to return the variable's value.

## <a id="fetch-var-values"></a> Fetching variable values

This endpoint returns the value of a variable stored in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->. Not all variables are stored in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->, so if you call a variable that isn't in CredHub<!--฿ There are two CredHubs in PCF v2.0: BOSH CredHub and runtime CredHub. ฿-->, the call returns an empty value.

<pre class="terminal">
$ curl "http<span>s</span>://OPS-MAN-FQDN/api<!--฿ |API| is preferred. ฿-->/v0/deployed/products/product-guid<!--฿ |GUID| is preferred. ฿-->/variables?name=EXAMPLE-VARIABLE-NAME" \
    -X GET \
    -H "Authorization: Bearer UAA_ACCESS_TOKEN"
</pre>

### <a id="example-response"></a> Example response

<pre class="terminal">
HTTP/1.1 200 OK

{
  "credhub<!--฿ The CF component is named |CredHub| ฿-->-password": "EXAMPLE-PASSWORD"
}
</pre>

### <a id="query-params-values"></a> Query parameters
<table>
  <th>Parameter</th>
  <th>Description</th>
  <tr>
    <td>variable_name</td>
    <td>The name of the variable, formatted as a text string</td>
  </tr>
  <tr>
    <td>product_guid</td>
    <td>The unique product identifier, formatted as a text string</td>
  </tr>
</table>
